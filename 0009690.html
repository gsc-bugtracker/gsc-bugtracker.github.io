<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <link href="css/default.css" rel="stylesheet" type="text/css"/>
  <script src="js/replicate_buttons.js">
  </script>
  <title>
   0009690: Игнорирование не дефолтных секторов солнцем в R2 - Mantis
  </title>
  <script src="javascript/common.js" type="text/JavaScript">
  </script>
 </head>
 <body>
  <div class="center">
   <span class="pagetitle">Mantis</span>
  </div>
  <br/>
  <table cellspacing="1" class="width100">
   <tr>
    <td class="left" colspan="4">
     <a href="0009689.html">
      &lt; Прошлое обращение (0009689)
     </a></td>
    <td class="right" colspan="2">
     <a href="0009691.html">
      Следующее обращение (0009691) &gt;
     </a></td>
   </tr>
   <tr class="row-category">
    <td width="15%">ID</td>
    <td width="20%">Категория</td>
    <td width="15%">Критичность</td>
    <td width="20%">Воспроизводимость</td>
    <td width="15%">Дата добавления</td>
    <td width="15%">Обновлено</td>
   </tr>
   <tr class="row-1">
    <td>0009690</td>
    <td>[S.T.A.L.K.E.R.: TODO List] R1/R2 Renders</td>
    <td>незначительный</td>
    <td>всегда</td>
    <td>14 июля 2006 12:42</td>
    <td>15 октября 2006 15:09</td>
   </tr>
   <tr class="spacer" height="5">
    <td colspan="6"></td>
   </tr>
   <tr class="row-2">
    <td class="category">Автор</td>
    <td>Yuriy</td>
    <td class="category">Режим доступа</td>
    <td>общедоступный</td>
    <td colspan="2"></td>
   </tr>
   <tr class="row-2">
    <td class="category">Приоритет</td>
    <td>нормальный</td>
    <td class="category">Решение</td>
    <td>исправлен</td>
    <td class="category">Платформа</td>
    <td></td>
   </tr>
   <tr class="row-1">
    <td class="category">Статус</td>
    <td bgcolor="#cceedd">решен</td>
    <td colspan="2"></td>
    <td class="category">OS</td>
    <td></td>
   </tr>
   <tr class="row-2">
    <td class="category">Прогноз</td>
    <td>нет</td>
    <td colspan="2"></td>
    <td class="category">Версия OS</td>
    <td></td>
   </tr>
   <tr class="row-1">
    <td class="category">ETA</td>
    <td>19 января 2038 05:14</td>
    <td class="category"></td>
    <td></td>
    <td class="category">Подверсия продукта</td>
    <td></td>
   </tr>
   <tr class="spacer" height="5">
    <td colspan="6"></td>
   </tr>
   <tr class="row-2">
    <td class="category">Сводка</td>
    <td colspan="5">0009690: Игнорирование не дефолтных секторов солнцем в R2</td>
   </tr>
   <tr class="row-1">
    <td class="category">Описание</td>
    <td colspan="5">Уровень "test_sector"
     <br/>
     центральные рамы окон включены во внутренние сектора,
     <br/>
     остальные к дефолтному</td>
   </tr>
   <tr class="row-2">
    <td class="category">Шаги по воспроизведению</td>
    <td colspan="5"></td>
   </tr>
   <tr class="row-1">
    <td class="category">Дополнительная информация</td>
    <td colspan="5"></td>
   </tr>
   <tr class="spacer" height="5">
    <td colspan="6"></td>
   </tr>
   <tr class="row-2">
    <td class="category">Присоединенные файлы</td>
    <td colspan="5"></td>
   </tr>
   <tr align="center">
    <td align="center" colspan="6">
     <table>
     </table></td>
   </tr>
  </table>
  <br/>
  <div id="relationships_open">
   <table cellspacing="1" class="width100">
    <tr class="row-2" valign="top">
     <td class="form-title" colspan="2" width="15%">
      <a href="#">
       <img alt="-" border="0" src="images/minus.png"/>
      </a>
      Связи</td>
    </tr>
    
    <tr>
     <td colspan="2"></td>
    </tr>
   </table>
  </div>
  <div id="relationships_closed" style="display: none;">
   <table cellspacing="1" class="width100">
    <tr>
     <td class="form-title">
      <a href="#">
       <img alt="+" border="0" src="images/plus.png"/>
      </a>
      Связи</td>
    </tr>
   </table>
  </div>
  <br/>
  <br/>
  <div id="monitoring_closed" style="display: none;">
   <table cellspacing="1" class="width100">
    <tr>
     <td class="form-title" colspan="2">
      <a href="#">
       <img alt="+" border="0" src="images/plus.png"/>
      </a>
      Пользователи, отслеживающие обращение</td>
    </tr>
   </table>
  </div>
  <div id="monitoring_open">
   <table cellspacing="1" class="width100">
    <tr>
     <td class="form-title" colspan="2">
      <a href="#">
       <img alt="-" border="0" src="images/minus.png"/>
      </a>
      Пользователи, отслеживающие обращение</td>
    </tr>
    <tr class="row-1">
     <td class="category" width="15%">
      Список пользователей</td>
     <td>Anton, Yuriy</td>
    </tr>
   </table>
  </div>
  <br/>
  <br/>
  <div id="bugnotes_closed" style="display: none;">
   <table cellspacing="1" class="width100">
    <td class="form-title" colspan="2">
     <a href="#">
      <img alt="+" border="0" src="images/plus.png"/>
     </a>
     Комментарии</td>
   </table>
  </div>
  <div id="bugnotes_open">
   <table cellspacing="1" class="width100">
    <tr>
     <td class="form-title" colspan="2">
      <a href="#">
       <img alt="-" border="0" src="images/minus.png"/>
      </a>
      Комментарии</td>
    </tr>
    <tr class="bugnote" id="8731" name="8731">
     <td class="bugnote-public">
      <span class="small">(0008731)</span>
      <br/>
      Yuriy
      <br/>
      <span class="small">14 июля 2006 12:57</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">Баг: первичное солнце, просвечивает верхние этажи.
      <br/>
      Баг: вторичное солнце учитывает только обратные фейсы дефолтного сектора.
      <br/>
      Баг: видимости спаун источников света, при выходе из сектора, переступая порог портала, пропадает свет источника.</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8754" name="8754">
     <td class="bugnote-public">
      <span class="small">(0008754)</span>
      <br/>
      Yuriy
      <br/>
      <span class="small">18 июля 2006 15:08</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">//start test.bat
      <br/>
      @S:\bins\bin\xr_3da.exe -designer -noprefetch -start server(test_sector/single) client(localhost)</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8830" name="8830">
     <td class="bugnote-public">
      <span class="small">(0008830)</span>
      <br/>
      Oles
      <br/>
      <span class="small">25 августа 2006 18:14</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">1. моргание солнца пофиксено
      <br/>
      2. пробивание солнца через сектора - пофиксено
      <br/>
      3. все источники света работают корректно, вне зависимости от секторов и порталов
      <br/>
      <br/>
      остался момент насчёт дальнего солнца и бек-фейсов:
      <br/>
      дальнее солнце действительно использует только бек-фейсы, но вот "учитывает только фейсы дефолтного сектора" - должно исправиться, правда на более больших уровнях (т.к. на маленьком уровне дефолтный сектор небольшой, почти совпадает с остальными, а это плохо)</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8831" name="8831">
     <td class="bugnote-public">
      <span class="small">(0008831)</span>
      <br/>
      Oles
      <br/>
      <span class="small">25 августа 2006 18:28</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">да, и всё же иногда прийдётся проставлять "дабл-сайд" для поверхностей, через которые пробивает "дальнее" солнце, т.к. это значительно дешевле, чем если солнце будет игнорировать всю структуру секторов и порталов и рисовать дофига всякой всячины</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8854" name="8854">
     <td class="bugnote-public">
      <span class="small">(0008854)</span>
      <br/>
      Yuriy
      <br/>
      <span class="small">30 августа 2006 13:28</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">Не правильно,
      <br/>
      если использовать только дефолтный сектор, то не нужно брать бекфейсы,
      <br/>
      мы получаем вывернутый дефолт который не бросает тень.</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8894" name="8894">
     <td class="bugnote-public">
      <span class="small">(0008894)</span>
      <br/>
      Oles
      <br/>
      <span class="small">17 сентября 2006 20:06</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">не понял вопроса...
      <br/>
      ближнее солнце всегда использует фронт фейсы
      <br/>
      дальнее солнце всегда использует бек фейсы
      <br/>
      это факт</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8900" name="8900">
     <td class="bugnote-public">
      <span class="small">(0008900)</span>
      <br/>
      Yuriy
      <br/>
      <span class="small">18 сентября 2006 18:23</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">не понял зачем так сделано,
      <br/>
      - если юзается только деф. сектор для чего (?????????) ему делать бэк фейс.
      <br/>
      <br/>
      - это получается единственная геометрия для теней, и чем тогда второе солнце отличается от первого, что для него такую х..ю надо делать? (сорри за оффтопик)</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8930" name="8930">
     <td class="bugnote-public">
      <span class="small">(0008930)</span>
      <br/>
      Oles
      <br/>
      <span class="small">23 сентября 2006 13:53</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">я же писал - юзается не только дефолтный сектор, а все сектора, которые "видны" солнцу
      <br/>
      <br/>
      а с дальним я могу сделать его по тому-же принципу, что и ближнее, но для получения того же качества нужно будет использовать 6-7 солнц, соответственно пропорционально упадут ФПСы, - оно вам надо такие тормоза?
      <br/>
      <br/>
      поэтому, в местах, где вылазят "дыры" в дальнем - просто надо ставить дополнительные "окклюжен" полигоны</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8936" name="8936">
     <td class="bugnote-public">
      <span class="small">(0008936)</span>
      <br/>
      Yuriy
      <br/>
      <span class="small">25 сентября 2006 10:55</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">В корне не согласен,
      <br/>
      <br/>
      дополнительные полигоны ничего не дадут, т.к. не дефолтные сектора просто игнорируются вторым солнцем,
      <br/>
      <br/>
      добавить новую геометрию и в это время ещё и вывернуть дефолтный сектор вот это точно падение ФПС.
      <br/>
      <br/>
      мы уже несколько месяцев тянем критичный баг,
      <br/>
      все отмазки считаю просто диверсией, и ничему не верю. ))</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8953" name="8953">
     <td class="bugnote-public">
      <span class="small">(0008953)</span>
      <br/>
      Oles
      <br/>
      <span class="small">30 сентября 2006 15:16</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">во первых - это не баг, а фича
      <br/>
      <br/>
      что бы не продолжать дискуссию:
      <br/>
      я добавил комманду игнорить все порталы - r2_sun_ignore_portals
      <br/>
      <br/>
      смотрите на падение фпс-ов
      <br/>
      <br/>
      со своей стороны, считаю правильным добавлять десяток треугольников - там где надо, а ваше "не желание" этого делать - простой ленью</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
    <tr class="bugnote" id="8961" name="8961">
     <td class="bugnote-public">
      <span class="small">(0008961)</span>
      <br/>
      Yuriy
      <br/>
      <span class="small">06 октября 2006 18:17</span>
      <br/>
      <br/>
      <span class="small"></span>
    </td>
     <td class="bugnote-note-public">r2_sun_ignore_portals
      <br/>
      Проверял:
      <br/>
      "L01_escape","l02_gagbage","l03_agroprom", на последнем пол сотни порталов,
      <br/>
      падение ФПС в среднем: было 24.4 стало 24.1, думаю это приемлемо.
      <br/>
      <br/>
      добавлять геометрию физически некогда, уровни надо было изначально так моделить.</td>
    </tr>
    <tr>
     <td class="spacer" colspan="2"></td>
    </tr>
   </table>
  </div>
  <br/>
  <div id="history_closed" style="display: none;">
   <table cellspacing="0" class="width100">
    <tr>
     <td class="form-title" colspan="4">
      <a href="#">
       <img alt="+" border="0" src="images/plus.png"/>
      </a>
      История</td>
    </tr>
   </table>
  </div>
  <div id="history_open">
   <table cellspacing="0" class="width100">
    <tr>
     <td class="form-title" colspan="4">
      <a href="#">
       <img alt="-" border="0" src="images/minus.png"/>
      </a>
      История</td>
    </tr>
    <tr class="row-category-history">
     <td class="small-caption">Дата изменения</td>
     <td class="small-caption">Имя пользователя</td>
     <td class="small-caption">Поле</td>
     <td class="small-caption">Изменение</td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">14 июля 2006 12:42</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Новое обращение</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">14 июля 2006 12:42</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Следить: Yuriy</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">14 июля 2006 12:57</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Комментарий добавлен: 8731</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">18 июля 2006 15:08</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Комментарий добавлен: 8754</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">25 августа 2006 17:43</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Следить: Anton</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">25 августа 2006 18:14</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Статус</td>
     <td class="small-caption">назначен =&gt; решен</td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">25 августа 2006 18:14</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Решение</td>
     <td class="small-caption">открыт =&gt; исправлен</td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">25 августа 2006 18:14</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Комментарий добавлен: 8830</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">25 августа 2006 18:28</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Комментарий добавлен: 8831</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">30 августа 2006 13:28</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Комментарий добавлен: 8854</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">11 сентября 2006 12:46</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Статус</td>
     <td class="small-caption">решен =&gt; информация</td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">11 сентября 2006 12:46</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Решение</td>
     <td class="small-caption">исправлен =&gt; открыт снова</td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">17 сентября 2006 20:06</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Комментарий добавлен: 8894</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">18 сентября 2006 18:23</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Комментарий добавлен: 8900</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">18 сентября 2006 19:35</td>
     <td class="small-caption">Anton</td>
     <td class="small-caption">Статус</td>
     <td class="small-caption">информация =&gt; признан</td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">18 сентября 2006 19:35</td>
     <td class="small-caption">Anton</td>
     <td class="small-caption">Описание обновлено</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">23 сентября 2006 13:53</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Комментарий добавлен: 8930</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">25 сентября 2006 10:55</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Комментарий добавлен: 8936</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">30 сентября 2006 15:16</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Комментарий добавлен: 8953</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">06 октября 2006 18:17</td>
     <td class="small-caption">Yuriy</td>
     <td class="small-caption">Комментарий добавлен: 8961</td>
     <td class="small-caption"></td>
    </tr>
    <tr class="row-1">
     <td class="small-caption">15 октября 2006 15:09</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Статус</td>
     <td class="small-caption">признан =&gt; решен</td>
    </tr>
    <tr class="row-2">
     <td class="small-caption">15 октября 2006 15:09</td>
     <td class="small-caption">Oles</td>
     <td class="small-caption">Решение</td>
     <td class="small-caption">открыт снова =&gt; исправлен</td>
    </tr>
   </table>
  </div>
  <br/>
  <tr align="center">
   <td align="center" colspan="6">
    <table>
    </table></td>
  </tr>
 </body>
